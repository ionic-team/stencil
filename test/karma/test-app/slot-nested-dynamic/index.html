<!doctype html>
<meta charset="utf8" />
<script src="./build/testapp.esm.js" type="module"></script>
<script src="./build/testapp.js" nomodule></script>

<slot-nested-dynamic-parent></slot-nested-dynamic-parent>

<button id="randomizeButton" onclick="randomize()">Randomize Item Count</button>

<script>
  function randomize() {
    const parent = document.querySelector('slot-nested-dynamic-parent');

    for (const item of Array.from(parent?.querySelectorAll('.default-slot-item') || [])) {
      item.remove();
    }

    const min = 3;
    const max = 20;
    const count = Math.floor(Math.random() * (max - min + 1)) + min;
    const items = Array.from(new Array(count)).map((_, i) => {
      const element = document.createElement('span');
      element.className = 'default-slot-item';
      element.textContent = `item-${i}`;
      return element;
    });

    for (const item of items) {
      parent?.appendChild(item);
    }
  }

  randomize();
</script>
