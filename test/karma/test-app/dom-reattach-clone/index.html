<!DOCTYPE html>
<meta charset="utf8">
<script src="/build/testapp.esm.js" type="module"></script>
<script src="/build/testapp.js" nomodule></script>
<style>button { display: block }</style>
<body>
  <div id="simple-parent">
    <button
      onclick="toggle('simple')"
      id="toggle-simple"
    >
      Toggle simple
    </button>
    <dom-reattach-clone id="simple">
      <p>Slot content 1</p>
    </dom-reattach-clone>
  </div>

  <div id="deep-parent">
    <button
      onclick="toggle('deep')"
      id="toggle-deep"
    >
      Toggle deep
    </button>
    <dom-reattach-clone-deep-slot id="deep">
      <p>Slot content 1</p>
    </dom-reattach-clone-deep-slot>
  </div>

  <div id="multiple-parent">
    <button
      onclick="toggle('multiple')"
      id="toggle-multiple"
    >
      Toggle multiple
    </button>
    <dom-reattach-clone id="multiple">
      <p>Slot content 1</p>
      <p>Slot content 2</p>
      <p>Slot content 3</p>
    </dom-reattach-clone>
  </div>

  <div id="host-parent">
    <button onclick="toggle('host')" id="toggle-host">
      Toggle host
    </button>
    <dom-reattach-clone-host id="host">
      <p>Slot content 1</p>
    </dom-reattach-clone-host>
  </div>


  <script>
    var clones = {};

    function toggle (id) {
      var element = document.querySelector('#' + id + '.hydrated');
      var parent = document.querySelector('#' + id + '-parent');

      if (element) {
        clones[id] = element.cloneNode(true);
        element.remove();
      } else {
        parent.appendChild(clones[id]);
      }
    }
  </script>
</body>
